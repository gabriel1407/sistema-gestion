<div class="card-container" style="display: grid;">
  <div class="col-lg-9 offset-lg-2 col-md-8 col-sm-10 col-xs-12">
  <h1>TAREAS</h1>
</div>
<div class="col-lg-12 offset-lg-5 col-md-8 col-sm-10 col-xs-12">
  <button class="btn btn-primary" routerLink="/new-task" style="margin-block: 10px;">
    <i class="fas fa-plus"></i> Nueva tarea
  </button>
</div>
<div class="col-lg-10 offset-lg-2 col-md-8 col-sm-10 col-xs-12">
  <div class="card">
      <div class="row">
        <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
          <div class="form-floating" style="margin: 9px;">
              <input style="text-transform: uppercase;" type="date" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
              <label for="name">Fecha de creación</label>
          </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
        <div class="form-floating" style="margin: 9px;">
            <input style="text-transform: uppercase;" type="date" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
            <label for="name">Fecha de fin</label>
        </div>
    </div>
        <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
        <div class="form-floating" style="margin: 9px;">
            <input style="text-transform: uppercase;" type="text" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
            <label for="name">Nombre de la tarea</label>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
      <div class="form-floating" style="margin: 9px;">
          <input style="text-transform: uppercase;" type="text" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
          <label for="name">Proyecto</label>
      </div>
  </div>
    <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
      <div class="form-floating" style="margin: 9px;">
          <input style="text-transform: uppercase;" type="text" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
          <label for="name">Departamento</label>
      </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
    <div class="form-floating" style="margin: 9px;">
        <input style="text-transform: uppercase;" type="text" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
        <label for="name">Compañía</label>
    </div>
</div>
<div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: center;">
  <div class="form-floating" style="margin: 9px;">
      <input style="text-transform: uppercase;" type="text" class="form-control filtro-busqueda" id="name" name="name"  maxlength="50"  autocomplete=off>
      <label for="name">Empleados</label>
  </div>
</div>
    <div class="col-lg-3 col-md-6 col-sm-12 col-12" style="text-align: end;">
      <div class="form-floating" style="margin: 9px;">
    &nbsp;<button class="btn btn-danger" (click)="getTasks()" >
      <i class="fas fa-search"></i> Buscar
    </button>
  </div>
  </div>
    </div>
</div>

</div>
<div class="row" style="margin-top: 32px;justify-content: center" *ngIf="tasks!=null && tasks.length!=0">
  <div *ngIf="loading" class="text-center">
    <i class="fas fa-spinner fa-spin"></i> Cargando...
  </div>
  <div class="col-lg-10 offset-lg-2 col-md-8 col-sm-10 col-xs-12" style="display: flex;text-align: center;justify-content: center;">
  <div class="card">
      <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="table-responsive-vertical shadow-z-1 " style="width:100%;margin-top:15px;overflow-x: clip;">
                  <table id="table-car" class="table table-hover table-mc-light-blue">
                      <thead>
                          <tr>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;">Fecha creación</th>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;">Fecha inicial</th>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;">Fecha final</th>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;">Nombre de la compañía</th>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;">Departamento</th>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;">Estatus</th>
                            <th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:13px;text-align: end;">
                            </th>
                          </tr>
                        </thead>
                      <tbody>
                          <!-- <tr style="display: flex;text-align: center;justify-content: center;">
                              <h3 class="font-bold" style="color:#d0d6e2;">No hay registros</h3>
                          </tr>                     -->
                          <tr *ngFor="let product of tasks">
                              <td data-title="Fecha creación"  class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;" scope="row">
                                  &nbsp;{{(product.created)}}
                              </td>
                              <td data-title="Fecha inicial"  class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;" scope="row">
                                &nbsp;{{(product.start_day)}}
                            </td>
                            <td data-title="Fecha final"  class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;" scope="row">
                              &nbsp;{{(product.end_day)}}
                          </td>
                              <td data-title="Nombre" *ngIf="product.name!=null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;text-transform: uppercase;" scope="row">
                                  &nbsp;{{product.name}}
                              </td>
                              <td data-title="Nombre" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;text-transform: uppercase;" scope="row" *ngIf="product.name==null">
                                                  
                              </td>
                              <td data-title="Departamento" *ngIf="product.project && product.project.departament?.name != null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;text-transform: uppercase;" scope="row">
                                &nbsp;{{product.project.departament.name}}
                              </td>
                              <td data-title="Departamento" *ngIf="!product.project || !product.project.departament || product.project.departament.name == null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;text-transform: uppercase;" scope="row">
                                &nbsp;
                              </td>                          
                              <td data-title="Estatus" *ngIf="product.is_enabled==true" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row">
                                &nbsp;ACTIVO
                            </td>
                            <td data-title="Estatus" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;" scope="row" *ngIf="product.is_enabled!=true">
                                  INACTIVO              
                            </td>
                            <td data-title="DELETE/PUT" *ngIf="product.is_enabled!=null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row">
                              &nbsp;<button class="btn btn-danger" data-toggle="modal" data-target="#myModal" (click)="modalDelete()">
                                <i class="fas fa-trash"></i>Eliminar tarea
                              </button>
                              &nbsp;<button class="btn btn-warning" data-toggle="modal" data-target="#myModal" >
                                <i class="fas fa-edit"></i> Editar tarea
                              </button>
                          </td>
                          <td data-title="DELETE/PUT" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:11px;" scope="row" *ngIf="product.is_enabled==null">
                                INACTIVO              
                          </td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div> 
      </div>
  </div>
</div>
</div>
  </div>
  <div class="modal" tabindex="-1" id="modalDeleteCar2">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Eliminar</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p >¿Desea eliminar la compañía <b class="font-bold"></b>?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-danger" (click)="deleteTask()" >Eliminar</button>
            </div>
        </div>
    </div>
  </div>


